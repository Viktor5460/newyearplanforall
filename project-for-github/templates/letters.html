<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ù–æ–≤–æ–≥–æ–¥–Ω–∏–µ –ü–ª–∞–Ω—ã</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;600;700&family=Kalam:wght@400;700&family=Indie+Flower&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/letters.css') }}?v=4">
</head>
<body class="letters-page">
    <!-- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å —Å —Ü–∏—Ñ–µ—Ä–±–ª–∞—Ç–æ–º -->
    <div class="top-panel">
        <div class="top-panel-left">
            <button class="btn-mailbox" id="btn-mailbox" onclick="goToMailbox()">üìÆ –ü–æ—á—Ç–æ–≤—ã–π —è—â–∏–∫</button>
        </div>
        <div class="clock-display" id="clock-display">
            <div class="clock-date" id="clock-date">31.12</div>
            <div class="clock-time" id="clock-time">14:30</div>
        </div>
        <div class="top-panel-right">
            <button class="btn-inspect" id="btn-inspect" onclick="toggleInspectionMode()">üîç –û—Å–º–æ—Ç—Ä –∂–µ–ª–∞–Ω–∏–π</button>
        </div>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–∞—è –æ–±–ª–∞—Å—Ç—å -->
    <div class="main-container">
        <!-- –®–∫–∞–ª–∞ –≤—Ä–µ–º–µ–Ω–∏ —Å–ª–µ–≤–∞ -->
        <div class="time-scale-container">
            <div class="time-scale" id="time-scale">
                <!-- –°–µ—Ä—ã–µ –º–µ—Ç–∫–∏ –∏ –ø–æ–ª–∑—É–Ω–æ–∫ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                <div class="time-scale-slider" id="time-scale-slider"></div>
            </div>
        </div>

        <!-- –û–±–ª–∞—Å—Ç—å —Å–æ —Å—Ç–æ–ª–æ–º –∏ –ø–∏—Å—å–º–∞–º–∏ -->
        <div class="table-container" id="table-container">
            <div class="table-surface" id="table-surface">
                <!-- –ü–∏—Å—å–º–∞ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –¥–µ—Ç–∞–ª—è–º–∏ –ø–∏—Å—å–º–∞ -->
    <div class="letter-modal" id="letter-modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeLetterModal()">√ó</button>
            <div class="modal-seal"></div>
            <div class="modal-header">
                <div class="modal-image" id="modal-image">üìÑ</div>
                <div class="modal-title" id="modal-title"></div>
            </div>
            <div class="modal-details">
                <div class="detail-row">
                    <span class="detail-label">–î–∞—Ç–∞:</span>
                    <span class="detail-value" id="modal-date"></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">–ù–∞—á–∞–ª–æ:</span>
                    <span class="detail-value" id="modal-start"></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:</span>
                    <span class="detail-value" id="modal-duration"></span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">–û–∫–æ–Ω—á–∞–Ω–∏–µ:</span>
                    <span class="detail-value" id="modal-end"></span>
                </div>
                <div class="detail-description" id="modal-description"></div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ–∂–∏–¥–∞–Ω–∏—è (–¥–ª—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ –ø–∏—Å—å–º–∞ –ø–æ—á—Ç–æ–≤–æ–≥–æ —è—â–∏–∫–∞) -->
    <div class="waiting-modal" id="waiting-modal">
        <div class="waiting-modal-content">
            <button class="modal-close" onclick="closeWaitingModal()">√ó</button>
            <div class="waiting-modal-text">–ü–æ–∫–∞ —á—Ç–æ –µ—â–µ –ø–∏—Å–µ–º –Ω–µ—Ç, –∑–∞–≥–ª—è–Ω–∏—Ç–µ 31 –¥–µ–∫–∞–±—Ä—è</div>
            <div class="waiting-modal-emoji">‚è≥‚è≥‚è≥</div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–¥–∞—Ä–∫–∞ (–¥–ª—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ –ø–∏—Å—å–º–∞ –ø–æ–¥–∞—Ä–∫–∞) -->
    <div class="gift-modal" id="gift-modal">
        <div class="gift-modal-content">
            <button class="modal-close" onclick="closeGiftModal()">√ó</button>
            <div class="gift-modal-emoji">üéÅüéÅüéÅüéÅüéÅüéÅüéÅüéÅüéÅüéÅ</div>
            <div class="gift-modal-text">–ë–µ–≥–∏ –æ—Ç–∫—Ä—ã–≤–∞–π —Å–≤–æ–π!!!</div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/letters.js') }}?v=2"></script>
    <script>
        // –≠–∫—Å–ø–æ—Ä—Ç —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
        window.closeWaitingModal = function() {
            const modal = document.getElementById('waiting-modal');
            if (modal) modal.classList.remove('active');
        };
        window.closeGiftModal = function() {
            const modal = document.getElementById('gift-modal');
            if (modal) modal.classList.remove('active');
        };
        
        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –∏—Ö
        document.getElementById('waiting-modal')?.addEventListener('click', function(e) {
            if (e.target === this) window.closeWaitingModal();
        });
        document.getElementById('gift-modal')?.addEventListener('click', function(e) {
            if (e.target === this) window.closeGiftModal();
        });
    </script>
</body>
</html>

